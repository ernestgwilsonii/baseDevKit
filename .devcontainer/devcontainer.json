{
	"name": "Docker in Docker",
	"image": "mcr.microsoft.com/devcontainers/base:bullseye",

	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"version": "latest",
			"enableNonRootDocker": "true",
			"moby": "true"
		},
		"ghcr.io/devcontainers/features/python:1": {
			"version": "3.12"
		},
		"ghcr.io/devcontainers/features/node:1": {
			"version": "20"
		},
		"ghcr.io/devcontainers/features/go:1": {
	    	"version": "1.23.1"
		},
		"ghcr.io/devcontainers/features/rust:1": {
			"version": "1.81.0"
		},
		"ghcr.io/devcontainers/features/dotnet:2.1.3": {
			"version": "8.0",
			"installUsingApt": "false"
		}
	},

	"postCreateCommand": {
		"addAwsCli": "curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\" && unzip awscliv2.zip && sudo ./aws/install && rm -rf awscliv2.zip aws",
		"addPackages": "./packages.sh"
	},

	"forwardPorts": [5150]

	// Configure tool-specific properties.
	// "customizations": {},

	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
}
